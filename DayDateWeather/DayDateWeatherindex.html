<!DOCTYPE html>
<html>
    <head>
        <title>
            Day, Date and Weather
        </title>

        <meta charset="UTF-8">
        <meta name="keywords" content="HTML, CSS, JavaScript">
        <meta name="description" content="Day, Date and Time Based on your Location">
        <meta name="author" content="MoisÃ©s Adame Aguilar">
        <meta http-equiv="refresh" content="60.0">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <style>
            body{
                text-align: center;
                font-family: 'Futura';
                font-size: 200%;
                background: rgb(148,187,233);
                background: linear-gradient(180deg, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%) fixed;

            }
            a{
                text-decoration: none;
                color: black;
            }
            footer {
                clear: both;
                position: relative;
                height: 200px;
                margin-top: 400px;
            }   
        </style>

        <script>
            function timeLocation(){
                // Time Module
                const today = new Date();
                let h = today.getHours();
                let m = today.getMinutes();
                let s = today.getSeconds();
                h = checkTime(h);
                m = checkTime(m);
                s = checkTime(s);
                document.getElementById('time').innerHTML =  h + ":" + m + ":" + s;
                setTimeout(timeLocation, 1000); 
                
                getLocation();
            }

            function checkTime(i) {
                if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
                return i;
            }

            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);
                }else {
                    document.getElementById("position").innerHTML = "Geolocation is not supported by this browser.";
                }
            }


            function showPosition(position) {
                document.getElementById("position").innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
                document.getElementById("gmap_canvas").src = "https://maps.google.com/maps?q=" position.coords.longitude + ",%20" + position.coords.longitude + "&t=&z=13&ie=UTF8&iwloc=&output=embed";
            }
            
        </script>

    </head>

    <body id="body" onload="timeLocation();">
        <h1>
            The Time Now:
        </h1>

        <p id="time">Date here</p>

        <h1>
            Your Position:
        </h1>

        <p id="position"></p>

        <iframe width="500" height="500" id="gmap_canvas" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>

        <footer>
            <p style="text-align: right;"><a href="../index.html">Go Back</a></p>
    
        </footer>

    </body>

</html>